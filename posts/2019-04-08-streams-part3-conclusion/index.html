<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Stream examples Part 3 - Conclusion | pieterjd.be</title>
<meta name=keywords content="Java,Streams">
<meta name=description content="I would like to wrap up with some snippets I use a lot!
Collect to a map When you want to collect to a Map, you need a function for the key and a function for the value.
Suppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:
Map<String, String> firstToLastMap = persons.">
<meta name=author content>
<link rel=canonical href=https://www.pieterjd.be/posts/2019-04-08-streams-part3-conclusion/>
<meta name=google-site-verification content="MN3Sf5TrdFo5j8qHAiXG2_gF0P1tXmClJN0JX8TvqgU">
<link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.pieterjd.be/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://www.pieterjd.be/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://www.pieterjd.be/favicon-32x32.png>
<link rel=apple-touch-icon href=https://www.pieterjd.be/apple-touch-icon.png>
<link rel=mask-icon href=https://www.pieterjd.be/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-132459675-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Stream examples Part 3 - Conclusion">
<meta property="og:description" content="I would like to wrap up with some snippets I use a lot!
Collect to a map When you want to collect to a Map, you need a function for the key and a function for the value.
Suppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:
Map<String, String> firstToLastMap = persons.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.pieterjd.be/posts/2019-04-08-streams-part3-conclusion/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-04-08T20:14:53+00:00">
<meta property="article:modified_time" content="2022-07-31T21:14:13+02:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Stream examples Part 3 - Conclusion">
<meta name=twitter:description content="I would like to wrap up with some snippets I use a lot!
Collect to a map When you want to collect to a Map, you need a function for the key and a function for the value.
Suppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:
Map<String, String> firstToLastMap = persons.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.pieterjd.be/posts/"},{"@type":"ListItem","position":3,"name":"Stream examples Part 3 - Conclusion","item":"https://www.pieterjd.be/posts/2019-04-08-streams-part3-conclusion/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Stream examples Part 3 - Conclusion","name":"Stream examples Part 3 - Conclusion","description":"I would like to wrap up with some snippets I use a lot!\nCollect to a map When you want to collect to a Map, you need a function for the key and a function for the value.\nSuppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:\nMap\u0026lt;String, String\u0026gt; firstToLastMap = persons.","keywords":["Java","Streams"],"articleBody":"I would like to wrap up with some snippets I use a lot!\nCollect to a map When you want to collect to a Map, you need a function for the key and a function for the value.\nSuppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:\nMapString, String firstToLastMap = persons.stream() .collect(Collectors.toMap( p-p.getFirstname(), //key mapper function  p-p.getLastname() // value mapper function  ) ); Grouping Suppose you have a List of strings. Per possible length, you want to know which Strings have this particular length. Then you would group all Strings in the list by their length.\nListString strings = Arrays.asList(\"one\",\"two\",\"three\",\"four\",\"five\",\"six\"); MapInteger, ListString counts = strings.stream().collect(Collectors.groupingBy(s-s.length())); //output: {3=[one, two, six], 4=[four, five], 5=[three]} Sum and Average You can also easily do different kinds of count, for instance sum (summingInt) and average (averageInt). In this example, the sum and average of string lengths are computed.\nListString strings = Arrays.asList(\"one\",\"two\",\"three\",\"four\",\"five\",\"six\"); System.out.println(strings.stream().collect(Collectors.summingInt(s-s.length()))); //output: 22 System.out.println(strings.stream().collect(Collectors.averagingInt(s-s.length()))); //output: 3.6666666666666665 - this equals 22/6 If you want all the statistics (min, max, sum, count, average) in one go, then check out summarizingInt\nPartitioning Partioning is also quite easy - in this case you are limited to a bi-partition, based on a predicate that is either true or false. In this example, String with length bigger than 3 are considered long Strings.\nListString strings = Arrays.asList(\"one\",\"two\",\"three\",\"four\",\"five\",\"six\"); System.out.println(strings.stream().collect(Collectors.partitioningBy(s-s.length()3))); //{false=[one, two, six], true=[three, four, five]}  ","wordCount":"247","inLanguage":"en","datePublished":"2019-04-08T20:14:53Z","dateModified":"2022-07-31T21:14:13+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.pieterjd.be/posts/2019-04-08-streams-part3-conclusion/"},"publisher":{"@type":"Organization","name":"pieterjd.be","logo":{"@type":"ImageObject","url":"https://www.pieterjd.be/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.pieterjd.be accesskey=h title="pieterjd.be (Alt + H)">pieterjd.be</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=https://www.pieterjd.be/posts/ title=Posts>
<span>Posts</span>
</a>
</li>
<li>
<a href=https://www.pieterjd.be/talks/ title=Talks>
<span>Talks</span>
</a>
</li>
<li>
<a href=https://www.pieterjd.be/about/ title=About>
<span>About</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Stream examples Part 3 - Conclusion
</h1>
<div class=post-meta><span title="2019-04-08 20:14:53 +0000 UTC">April 8, 2019</span>
</div>
</header>
<div class=post-content><p>I would like to wrap up with some snippets I use a lot!</p>
<h1 id=collect-to-a-map>Collect to a map<a hidden class=anchor aria-hidden=true href=#collect-to-a-map>#</a></h1>
<p>When you want to collect to a Map, you need a function for the key and a function for the value.</p>
<p>Suppose you have a list of Person objects with a firstname and last name. If you want to map the firstname to the lastname, you would write something like this:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>firstToLastMap</span> <span class=o>=</span> <span class=n>persons</span><span class=o>.</span><span class=na>stream</span><span class=o>()</span>
<span class=o>.</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>toMap</span><span class=o>(</span>
  <span class=n>p</span><span class=o>-&gt;</span><span class=n>p</span><span class=o>.</span><span class=na>getFirstname</span><span class=o>(),</span> <span class=c1>//key mapper function
</span><span class=c1></span>  <span class=n>p</span><span class=o>-&gt;</span><span class=n>p</span><span class=o>.</span><span class=na>getLastname</span><span class=o>()</span>   <span class=c1>// value mapper function
</span><span class=c1></span> <span class=o>)</span>
<span class=o>);</span>
</code></pre></div><h1 id=grouping>Grouping<a hidden class=anchor aria-hidden=true href=#grouping>#</a></h1>
<p>Suppose you have a List of strings. Per possible length, you want to know which Strings have
this particular length. Then you would group all Strings in the list by their length.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>strings</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;one&#34;</span><span class=o>,</span><span class=s>&#34;two&#34;</span><span class=o>,</span><span class=s>&#34;three&#34;</span><span class=o>,</span><span class=s>&#34;four&#34;</span><span class=o>,</span><span class=s>&#34;five&#34;</span><span class=o>,</span><span class=s>&#34;six&#34;</span><span class=o>);</span>
<span class=n>Map</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span> <span class=n>counts</span> <span class=o>=</span> <span class=n>strings</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>groupingBy</span><span class=o>(</span><span class=n>s</span><span class=o>-&gt;</span><span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>()));</span>
<span class=c1>//output: {3=[one, two, six], 4=[four, five], 5=[three]}
</span></code></pre></div><h1 id=sum-and-average>Sum and Average<a hidden class=anchor aria-hidden=true href=#sum-and-average>#</a></h1>
<p>You can also easily do different kinds of count, for instance sum (summingInt) and average (averageInt). In this example, the sum and average of string lengths are computed.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>strings</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;one&#34;</span><span class=o>,</span><span class=s>&#34;two&#34;</span><span class=o>,</span><span class=s>&#34;three&#34;</span><span class=o>,</span><span class=s>&#34;four&#34;</span><span class=o>,</span><span class=s>&#34;five&#34;</span><span class=o>,</span><span class=s>&#34;six&#34;</span><span class=o>);</span>
<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>strings</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>summingInt</span><span class=o>(</span><span class=n>s</span><span class=o>-&gt;</span><span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>())));</span>
<span class=c1>//output: 22
</span><span class=c1></span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>strings</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>averagingInt</span><span class=o>(</span><span class=n>s</span><span class=o>-&gt;</span><span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>())));</span>
<span class=c1>//output: 3.6666666666666665 -&gt; this equals 22/6
</span></code></pre></div><p>If you want all the statistics (min, max, sum, count, average) in one go, then check out
<a href=https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summarizingInt-java.util.function.ToIntFunction-><code>summarizingInt</code></a></p>
<h1 id=partitioning>Partitioning<a hidden class=anchor aria-hidden=true href=#partitioning>#</a></h1>
<p>Partioning is also quite easy - in this case you are limited to a bi-partition, based on a predicate that is either <code>true</code> or <code>false</code>. In this example, String with length bigger than 3 are considered long Strings.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>strings</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;one&#34;</span><span class=o>,</span><span class=s>&#34;two&#34;</span><span class=o>,</span><span class=s>&#34;three&#34;</span><span class=o>,</span><span class=s>&#34;four&#34;</span><span class=o>,</span><span class=s>&#34;five&#34;</span><span class=o>,</span><span class=s>&#34;six&#34;</span><span class=o>);</span>
<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>strings</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>partitioningBy</span><span class=o>(</span><span class=n>s</span><span class=o>-&gt;</span><span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>()&gt;</span><span class=n>3</span><span class=o>)));</span>
<span class=c1>//{false=[one, two, six], true=[three, four, five]}
</span><span class=c1></span>
</code></pre></div>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://www.pieterjd.be/tags/java/>Java</a></li>
<li><a href=https://www.pieterjd.be/tags/streams/>Streams</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://www.pieterjd.be>Pieter-Jan Drouillon</a></span>
<span> . </span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>